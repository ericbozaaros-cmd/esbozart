@use '../base/variables' as v;

/* =========================================================
   COLECCIONES — CONTENEDOR Y GUTTERS
   =======================================================*/
.collections {
  padding-block: clamp(1rem, 3vw, 2rem);
}
.collections .container-xxl {
  max-width: 1400px;
  margin-inline: auto;
  /* Gutters laterales fluidos (hasta 100px) */
  padding-inline: clamp(16px, 6.6vw, 100px);
}

/* =========================================================
   SIDEBAR DE FILTROS
   =======================================================*/
.filters-panel{
  position: sticky; top: 90px;
  background: rgba(188,200,198,.18);
  border: 1px solid rgba(0,0,0,.06);
  border-radius: 12px;
  padding: clamp(.9rem, 2.2vw, 1.25rem);
}

.filters__form{
  display: grid;
  grid-template-columns: 1fr; /* sidebar = 1 sola columna */
  gap: clamp(.75rem, 2vw, 1rem);
}

.filters__field{
  display: grid; gap: .4rem;
  span, legend{
    font-size: .95rem; font-weight: 600; color: v.$color-text;
  }
  select, input[type="number"]{
    width: 100%;
    font: inherit;
    padding: .55rem .65rem;
    border: 1px solid #e3e6e5;
    border-radius: 8px;
    background: #fff;
  }
}

/* Checks apilados en cascada */
.filters__checks{
  padding: 0; border: 0;
  display: grid; gap: .5rem;
}
.filters__checks label{
  display: inline-flex; align-items: center; gap: .5rem;
  font-size: .95rem; color: v.$color-text;
}
.filters__checks input{
  transform: translateY(1px);
  accent-color: v.$color-text;
}

/* Rango de precio */
.filters__field--range .filters__range{
  display: flex; align-items: center; gap: .6rem;
  .dash{ opacity: .6; }
}

/* Botones de filtros */
.filters__actions{
  display: grid; grid-template-columns: 1fr 1fr; gap: .5rem;
  .btn{ width: 100%; }
}

/* =========================================================
   BARRA "ORDENAR POR"
   =======================================================*/
.col-lg-9 > .d-flex { margin-left: .25rem; margin-right: .25rem; }
.order-select{
  max-width: 240px; /* evita que se expanda */
  width: 100%;
}
@media (max-width: 575.98px){
  .col-lg-9 > .d-flex{
    flex-direction: column; align-items: stretch; gap: .5rem;
  }
  .order-select{ max-width: none; }
}

/* =========================================================
   GALERÍA (tarjetas siempre alineadas)
   =======================================================*/
.gallery{
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: clamp(1rem, 2vw, 2rem);

  @media (max-width: 1024px){ grid-template-columns: repeat(2, 1fr); }
  @media (max-width: 575.98px){ grid-template-columns: 1fr; gap: 1.25rem; }
}

/* Tarjeta: imagen arriba + bloque de info que estira */
.artwork{
  display: flex;
  flex-direction: column;
  gap: .65rem;
  height: 100%;
}

.artwork-img{
  width: 100%; aspect-ratio: 3/4; object-fit: cover;
  padding: 14px; /* marco blanco */
  border: 1px solid #e6e8eb;
  border-radius: 8px;
  box-shadow: 0 10px 24px rgba(0,0,0,.08);
  transition: transform .25s ease, box-shadow .25s ease;
}
.artwork:hover .artwork-img{
  transform: translateY(-2px);
  box-shadow: 0 16px 36px rgba(0,0,0,.12);
}

/* Bloque de textos + CTA ocupa todo el alto disponible */
.artwork-info{
  flex: 1;
  display: flex; flex-direction: column;
  align-items: center; text-align: center;
}

/* Estado */
.artwork-status{
  display: block;
  font-size: .9rem; font-weight: 700; letter-spacing: .02em;
  color: #0a3622; /* verde */
  margin-bottom: .15rem;
}
.artwork-status.is-sold{ color: #7d1b23; } /* rojo suave */

/* Título y meta: reservar espacio para 2 líneas (evita “salto” del botón) */
.artwork-title{
  margin: 0 0 .15rem; font-size: .98rem; letter-spacing: .02em;
  line-height: 1.25;
  min-height: calc(1.25em * 2);
}
.artwork-meta{
  margin: 0 0 .25rem; font-size: .86rem; opacity: .8;
  line-height: 1.3;
  min-height: calc(1.3em * 2);
}

/* Precio: siempre reserva 1 línea. Si vendida, no se ve pero no colapsa */
.artwork-price{
  margin: 0 0 .5rem; font-size: .92rem; line-height: 1.4;
  min-height: 1.4em;
  display: block !important; /* prevalece sobre cualquier inline style */
}
.artwork[data-status="vendida"] .artwork-price{
  visibility: hidden; /* no visible, pero mantiene el hueco para alinear */
}

/* Botón abajo, alineado entre tarjetas */
.artwork-more{ margin-top: auto; }

/* =========================================================
   PAGINACIÓN
   =======================================================*/
.pager{
  display: flex; gap: .5rem; align-items: center; justify-content: center;
  margin-top: clamp(1rem, 3vw, 1.5rem); flex-wrap: wrap;
}
.pager__btn, .pager__page{
  font: inherit;
  background: rgba(188,200,198,.35);
  color: v.$color-text;
  border: 0; padding: .5rem .8rem;
  border-radius: 8px; cursor: pointer;
  transition: background .25s ease, color .25s ease;
}
.pager__btn[disabled]{ opacity: .5; cursor: not-allowed; }
.pager__list{ display: flex; gap: .4rem; list-style: none; margin: 0; padding: 0; }
.pager__page.is-active,
.pager__page:hover:not([disabled]){
  background: v.$color-text; color: #fff;
}
.pager__summary{
  text-align: center; margin-top: .5rem; opacity: .8; font-size: .9rem;
}

/* =========================================================
   MODAL DETALLE
   =======================================================*/
#artModal{
  .modal-content{
    border-radius: 16px; border: none;
    box-shadow: 0 10px 40px rgba(0,0,0,.15);
    overflow: hidden;
  }
  .modal-body{ padding: clamp(1rem, 3vw, 2rem); }
  .modal-body img{
    border-radius: .75rem;
    box-shadow: 0 6px 18px rgba(0,0,0,.1);
  }
  h3{ font-size: 1.25rem; font-weight: 700; margin-bottom: .5rem; }
  p { font-size: .95rem; line-height: 1.5; margin-bottom: .3rem; }
  strong{ font-weight: 600; }
  .btn{
    background: v.$color-text; color: #fff;
    font-weight: 600; border-radius: 10px;
    padding: .6rem 1rem; text-align: center;
    transition: filter .25s ease;
    &.disabled{ pointer-events: none; opacity: .65; }
    &:hover{ filter: brightness(.9); }
  }
  @media (max-width: 768px){
    .modal-dialog{ margin: 0; max-width: 100%; }
    .modal-body img{ margin-bottom: 1rem; }
  }
}

